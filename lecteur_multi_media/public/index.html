<!doctype html>
<html>
<head>
	<title>Custom Audio Player</title>
	<meta charset="utf-8">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,600&display=swap" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="https://kit.fontawesome.com/9f83ee8de6.js" crossorigin="anonymous"></script>
</head>

<body>
	<div id="main_navigation">
	<div id="nav_toggle_button"><i class="fa-solid fa-bars" onclick="bar_show()"></i></div>
	<div id="navigation_options">
		<li class="search_field">
			<i class="fa-solid fa-magnifying-glass"></i>
			<input type="text" name="search" id="search" oninput="search()" placeholder="Search">
			<div class="menu_border"></div>
		</li>
		<li class="playlist_tab active" onclick="read_music()">
			<i class="fa-solid fa-headphones"></i>
			<span>Musique</span>
			<div class="menu_border"></div>
		</li>

		<li class="liked_songs" onclick="favorite_songs()">
			<i class="fa-solid fa-heart"></i>
			<span>Liked</span>
			<div class="menu_border"></div>
		</li>
		<li class="playlist_tab" onclick="last_songs_plays()">
			<i class="fa-regular fa-clock"></i>
			<span>Recent plays</span>
			<div class="menu_border"></div>
		</li>
		
	</div>
	</div>
	<div id="music_player1">
		<h2>Musique</h2>
		<!-- <img src="images/music-1.jpg" alt="" style="width: 100px;height: 100px;"> -->
		<div id="track_list_table">
			<table class="table table-striped">
				<thead>
					<tr style="background: none;">
						<th class="column_size_1">#</th>
						<th class="column_size_6">Title</th>
						<th class="column_size_1"></th>
						<th class="column_size_1"></th>
						<th class="column_size_2">Artist</th>
						<th class="column_size_1">Duration</th>
					</tr>
				</thead>
  <tbody id="track_list_body">
  	
 
  </tbody>
</table>


<div id="file_drop_area">
			
			<form class="upload_form" method="post" enctype="multipart/form-data">
				<p>
					Sélectionner ou glisser les fichiers (mp3) que vous voulez ajouter à la playlist.
				</p>
				<input type="file" id="fileElem" multiple accept=".mp3,audio/*" onchange="process_selected_files(this.files) ">
				<label for="fileElem" class="button">
				  Sélectionnez des fichiers
				</label>
				<progress id="upload_progress" max=100 value=0></progress>
			</form>
			<p id="formError"></p>
		</div>


		</div>
	</div>

	<div class="row" id="audio_row">
			<div class="col-lg-3" style="padding-right:0; ">
		    	<img id="img_track" src="">
		    	<div class="row song_info">
					<div id="title">
			    		Title
			    	</div>
			    	<div id="artist">
			    		Artiste
			    	</div>
				</div>
		    </div>
			<div class="col-lg-9" style="padding-left:0; ">			
				<div class="row">
					<div class="player">
						<audio id="audio" controls>
						    <source id="audioSource" src="" type="audio/mpeg">
						     Your Browser Does Not Support Audio
						 </audio>
					</div>
				</div>
			</div>
		</div>




<script type="text/javascript" src="script.js"></script>

<script type="text/javascript">
let nav_statue = "Open";
function elements_nav(){

    let elementList = document.querySelectorAll("#navigation_options li");
    for(let n=0;n<elementList.length;n++){
        	elementList[n].addEventListener("click",function(){
    		let cls = this.getAttribute("class");
    		cls = cls.split(" ");
    		if(cls.length == 1){
    			this.setAttribute("class",cls+" active");
    			for(let m=0;m<elementList.length;m++){
    				let cls2 = elementList[m].getAttribute("class").split(" ");
    				if(elementList[m] != this ){
    					elementList[m].setAttribute("class", cls2[0]);
    			}
    			n=elementList.length+3;
    		}
    		}
    	});
}
console.log(elementList);
}


//1. La fonction sélectionne tous les éléments de la liste ayant l'ID "navigation_options" en utilisant la méthode 
//  querySelectorAll et les stocke dans un tableau appelé elementList.
//2. La fonction parcourt ensuite elementList à l'aide d'une boucle for et ajoute un écouteur d'événements de clic 
//  à chaque élément de la liste.
//3.Lorsqu'un élément est cliqué, la fonction obtient sa classe actuelle à l'aide de la méthode getAttribute et la 
//  stocke dans une variable appelée cls.
//4. La fonction vérifie si la variable cls contient plus d'une classe en la divisant en utilisant la méthode split
//  et en vérifiant sa longueur. Si elle ne contient qu'une classe, la fonction ajoute la classe "active" à l'élément
//  cliqué en utilisant la méthode setAttribute.
//5. La fonction parcourt ensuite de nouveau elementList et supprime la classe "active" de tout élément qui n'est 
//  pas l'élément cliqué en utilisant la méthode setAttribute et la variable cls2.
//6. Enfin, la fonction affecte à n une valeur supérieure à la longueur de elementList, ce qui fait sortir la 
//  boucle for.



function bar_show(){
	    let musique = document.getElementById("music_player1");
		let navbar = document.getElementById("main_navigation");
		let elements_span = document.querySelectorAll("#navigation_options span");
		let search_box = document.getElementById("search");
		let ss_icon = document.querySelector("#navigation_options > li.search_field > i");


		if(nav_statue=="Open"){
			navbar.style.width = "108px";
			musique.style.marginLeft = "168px";
			music_player1.style.width = "86%";
			nav_statue = "Closed";
			for(let i=0;i<elements_span.length;i++){
			elements_span[i].style.display="none";
			

		}
		    search_box.style.display="none";
			ss_icon.setAttribute("style","display:block;");
		}else{
			musique.style.marginLeft = "440px";
			navbar.style.width = "380px";
			music_player1.style.width = "70%";
			for(let i=0;i<elements_span.length;i++){
			elements_span[i].style.display="block";
		}
			nav_statue = "Open";
			search_box.style.display="";
			ss_icon.setAttribute("style","display:none;");
		}
}

elements_nav();
</script>
</body>
</html>